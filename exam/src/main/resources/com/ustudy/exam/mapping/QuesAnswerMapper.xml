<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ustudy.exam.dao.QuesAnswerDao">

	<resultMap type="com.ustudy.exam.model.QuesAnswer" id="QuesAnswerResult">
        <id property="id" column="id"/>
        <result property="quesno" column="quesno"/>
        <result property="startno" column="startno"/>
        <result property="endno" column="endno"/>
        <result property="type" column="type"/>
        <result property="branch" column="branch"/>
        <result property="choiceNum" column="choice_num"/>
        <result property="score" column="score"/>
        <result property="assignMode" column="assign_mode"/>
        <result property="scoreMode" column="score_mode"/>
        <result property="teacOwner" column="teac_owner"/>
        <result property="examGradeSubId" column="exam_grade_sub_id"/>
    </resultMap>

	<select id="getQuesAnswers" parameterType="int" resultMap="QuesAnswerResult">
		SELECT * FROM quesanswer where exam_grade_sub_id=#{egsId}
	</select>

	<delete id="deleteQuesAnswers" parameterType="Integer">
		delete FROM quesanswer where exam_grade_sub_id=#{egsId}
	</delete>

	<insert id="insertQuesAnswers" useGeneratedKeys="true" keyProperty="id" parameterType="java.util.List">
		insert into quesanswer (quesno,startno,endno,type,branch,choice_num,score,exam_grade_sub_id) values  
	    <foreach collection="list" item="item" index="index" separator="," >  
	        (#{item.quesno},#{item.startno},#{item.endno},#{item.type},#{item.branch},#{item.choiceNum},#{item.score},#{item.examGradeSubId})  
	    </foreach>  
	</insert>

</mapper>